!!!
%html{lang: "en", "ng-app" => "ratings"}
%meta{name: "viewport",  content: "initial-scale=1.0, user-scalable=no"}
%head
  %title Caveat
  = stylesheet_link_tag "application", media: "all"
  = javascript_include_tag "application"
  = csrf_meta_tags 
  %script{src: "https://maps.googleapis.com/maps/api/js?key=AIzaSyAS-dQdovaORj1V3dLiQp931WPqX0-KFpg&sensor=true"}
  :javascript
    var map;
    function initialize() {
      var styles = [
        {
          "stylers": [
            { "gamma": 0.77 },
            { "lightness": -12 },
            { "saturation": -100 }
          ]
        },{
          "elementType": "labels.icon",
          "stylers": [
            { "visibility": "off" }
          ]
        },{
          "featureType": "road.highway",
          "stylers": [
            { "invert_lightness": true },
            { "weight": 2 }
          ]
        },{
          "featureType": "road.local",
          "stylers": [
            { "weight": 0.5 },
            { "invert_lightness": false },
            { "gamma": 1.13 }
          ]
        },
        {
          "featureType": "road.local",
          "elementType": "labels.text",
          "stylers": [
            { "color": "#000000" },
            { "weight": 0.4 }
          ]
        },
        {
          "featureType": "water",
          "stylers": [
            { "visibility": "simplified" },
            { "weight": 0.1 },
            { "lightness": -64 },
            { "saturation": -66 }
          ]
        },
        {
          "featureType": "poi",
          "elementType": "labels.text",
          "stylers": [
            { "visibility": "off" }
          ]
        },
        {
          "featureType": "poi.park",
          "stylers": [
            { "hue": "#ff4400" },
            { "saturation": -84 }
          ]
        }
      ];
      
      var styledMap = new google.maps.StyledMapType(styles, {name: "Styled Map"});
      var latlng = new google.maps.LatLng(37.7750, -122.4183);

      var mapOptions = {
        center: latlng,
        mapTypeControl: false,
        zoom: 14,
        streetViewControl: false,
        rotateControl: false,
        panControl: false,
        zoomControl: false,
        mapTypeId: "road"//google.maps.MapTypeId.SATELLITE
      };
      map = new google.maps.Map(document.getElementById("map-canvas"),
          mapOptions);

      map.mapTypes.set('map_style', styledMap);
      map.setMapTypeId('map_style');
      window.map = map;
    }
    google.maps.event.addDomListener(window, 'load', initialize);
%body
  = yield 
